(window["webpackJsonpreact-three-fibear"]=window["webpackJsonpreact-three-fibear"]||[]).push([[0],{43:function(e,a,t){e.exports=t(54)},48:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),o=t(28),i=t.n(o),c=(t(48),t(6)),l=t(29),s=t(39),m=t(30),u=t(19),f=t(40),d=t(41),h=t(42),g=t(31),v=t(3),b=t(32),p=t(33),y=t(0),E=t(17),j=t(15),O=function(e){var a=e.onBellyClick,t=Object(r.useRef)(),o=Object(c.g)(b.a,"/react-three-fibear/DevelobearDraco.gltf",function(e){var a=new p.a;a.setDecoderPath("/react-three-fibear/draco-gltf/"),e.setDRACOLoader(a)}),i=0;Object(c.h)(function(){if(t.current){var e=Math.sin(y.Math.degToRad(i+=.7));t.current.rotation.set(0,e,0)}});var l=Object(j.b)(function(){return{scale:[.2,.2,.2],config:{mass:3,friction:40,tension:800}}}),s=Object(v.a)(l,2),m=s[0],u=s[1],f=Object(E.a)(function(e){var a=e.hovering;return u({scale:a?[.25,.25,.25]:[.2,.2,.2]})},{pointerEvents:!0});return n.a.createElement(j.a.group,Object.assign({ref:t},e,m,f(),{onClick:a}),n.a.createElement("scene",{name:"Scene"},n.a.createElement("object3D",{name:"Spot",position:[0,0,0]}),n.a.createElement("group",{name:"Bear",position:[0,0,0],rotation:[0,0,0]},n.a.createElement("mesh",{name:"Cilindro.001_0",layers:e.layer,castShadow:!0,receiveShadow:!0},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},o.__$[4].geometry)),n.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},o.__$[4].material,{name:"brown",roughness:1}))),n.a.createElement("mesh",{name:"Cilindro.001_1",layers:e.layer,castShadow:!0,receiveShadow:!0},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},o.__$[5].geometry)),n.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},o.__$[5].material,{name:"light brown",roughness:1}))),n.a.createElement("mesh",{name:"Cilindro.001_2",layers:e.layer,castShadow:!0,receiveShadow:!0},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},o.__$[6].geometry)),n.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},o.__$[6].material,{name:"almost black",roughness:1}))),n.a.createElement("mesh",{name:"Cilindro.001_3",layers:e.layer,castShadow:!0,receiveShadow:!0},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},o.__$[7].geometry)),n.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},o.__$[7].material,{name:"almost white",roughness:1}))))))},w=function(){return n.a.createElement("group",null,n.a.createElement("ambientLight",null),n.a.createElement("pointLight",null),n.a.createElement("spotLight",{castShadow:!0,intensity:5,angle:Math.PI/16,position:[10,10,10],"shadow-mapSize-width":4056,"shadow-mapSize-height":4056}))},S={uniforms:{tDiffuse:{value:null},tAdd:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tAdd;","varying vec2 vUv;","void main() {","vec4 color = texture2D( tDiffuse, vUv );","vec4 add = texture2D( tAdd, vUv );","gl_FragColor = color + add;","}"].join("\n")},M={uniforms:{tDiffuse:{value:null},lightPosition:{value:new y.Vector2(.5,.5)},exposure:{value:.18},decay:{value:.95},density:{value:1},weight:{value:.4},samples:{value:60}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["varying vec2 vUv;","uniform sampler2D tDiffuse;","uniform vec2 lightPosition;","uniform float exposure;","uniform float decay;","uniform float density;","uniform float weight;","uniform int samples;","const int MAX_SAMPLES = 100;","void main()","{","vec2 texCoord = vUv;","vec2 deltaTextCoord = texCoord - lightPosition;","deltaTextCoord *= 1.0 / float(samples) * density;","vec4 color = texture2D(tDiffuse, texCoord);","float illuminationDecay = 1.0;","for(int i=0; i < MAX_SAMPLES; i++)","{","if(i == samples){","break;","}","texCoord -= deltaTextCoord;","vec4 sample = texture2D(tDiffuse, texCoord);","sample *= illuminationDecay * weight;","color += sample;","illuminationDecay *= decay;","}","gl_FragColor = color * exposure;","}"].join("\n")},P=t(37),x=function(){var e=Object(c.i)(),a=e.gl,t=e.scene,o=e.camera,i=e.size,l=Object(r.useMemo)(function(){return new y.WebGLRenderTarget},[]),s=Object(r.useRef)(),m=Object(r.useRef)(),u=Object(r.useRef)();Object(r.useEffect)(function(){s.current.setSize(i.width,i.height),m.current.setSize(i.width,i.height)},[i]),Object(c.f)(function(){o.layers.set(1),s.current.render(),o.layers.set(0),m.current.render()},1);var f=Object(j.b)(function(){return{scale:[1,1,1],config:{mass:3,friction:40,tension:800}}}),d=Object(v.a)(f,2),h=d[0],g=d[1],b=Object(E.a)(function(e){var a=e.hovering;return g({scale:a?[1.25,1.25,1.25]:[1,1,1]})},{pointerEvents:!0});return n.a.createElement(n.a.Fragment,null,n.a.createElement(j.a.mesh,Object.assign({ref:u,layers:1},h,b()),n.a.createElement("circleGeometry",{attach:"geometry",args:[.8,50]}),n.a.createElement("meshBasicMaterial",{attach:"material",color:"#ffddaa"})),n.a.createElement("effectComposer",{ref:s,args:[a,l],renderToScreen:!1},n.a.createElement("renderPass",{attachArray:"passes",args:[t,o]}),n.a.createElement("shaderPass",{attachArray:"passes",args:[M],needsSwap:!1})),n.a.createElement("effectComposer",{ref:m,args:[a]},n.a.createElement("renderPass",{attachArray:"passes",args:[t,o]}),n.a.createElement("shaderPass",{attachArray:"passes",args:[S],"material-uniforms-tAdd-value":l.texture}),n.a.createElement("shaderPass",{attachArray:"passes",args:[P.a],"material-uniforms-resolution-value":[1/i.width,1/i.height],renderToScreen:!0}),n.a.createElement("unrealBloomPass",{attachArray:"passes",args:[void 0,.2,.2,0]}),n.a.createElement("filmPass",{attachArray:"passes",args:[.7,.5,1e3,!1]})))},A=t(25),_=function(){var e=Object(r.useState)(!1),a=Object(v.a)(e,2),t=a[0],o=a[1],i=Object(r.useState)(0),c=Object(v.a)(i,2),l=c[0],s=c[1];return Object(r.useEffect)(function(){y.DefaultLoadingManager.onLoad=function(){return o(!0)},y.DefaultLoadingManager.onProgress=function(e,a,t){return s(a/t*200)}},[]),Object(A.b)(t,null,{from:{opacity:1,width:0},leave:{opacity:0},update:{width:l}}).map(function(e){var a=e.item,t=e.key,r=e.props,o=r.opacity,i=r.width;return!a&&n.a.createElement(A.a.div,{className:"loading",key:t,style:{opacity:o}},n.a.createElement("div",{className:"loading-bar-container"},n.a.createElement(A.a.div,{className:"loading-bar",style:{width:i}})))})},C=function(){var e=Object(c.i)().camera,a=Object(r.useRef)();return Object(c.h)(function(){return a.current.update()}),n.a.createElement("orbitControls",{args:[e],ref:a,enableZoom:!1,enableKeys:!1,minPolarAngle:Math.PI/2.5,maxPolarAngle:Math.PI/1.7,minAzimuthAngle:-Math.PI/16,maxAzimuthAngle:Math.PI/16,enableDamping:!0,dampingFactor:.07})},D=t(38),R=function(e){e.children;var a=e.size,t=void 0===a?55:a,o=Object(D.a)(e,["children","size"]),i=Object(r.useRef)(),l=Object(r.useRef)(),s=Object(c.g)(y.TextureLoader,"/react-three-fibear/logo.png"),m=.1*t,u=.04*t,f=Object(j.b)(function(){return{scale:[m,u,.1],config:{mass:3,friction:40,tension:800}}}),d=Object(v.a)(f,2),h=d[0],g=d[1],b=Object(E.a)(function(e){var a=e.hovering;return g({scale:a?[1.2*m,1.2*u,.12]:[m,u,.1]})},{pointerEvents:!0});return n.a.createElement(j.a.group,Object.assign({className:"link"},o,{scale:[.1*t,.04*t,.1]},h,b(),{onClick:function(){return window.location.href="https://thedevelobear.com"}}),n.a.createElement("mesh",{args:[i,l],position:[0,1,-20],receiveShadow:!0,castShadow:!0},n.a.createElement("planeGeometry",{ref:i,attach:"geometry"}),n.a.createElement("meshPhongMaterial",{transparent:!0,ref:l,attach:"material",map:s})))},k=function(){var e=Object(r.useRef)(),a=0;Object(c.h)(function(){if(e.current){var t=5*Math.sin(y.Math.degToRad(a+=.002)),r=Math.cos(y.Math.degToRad(2*a));e.current.rotation.set(t,t,t),e.current.scale.set(r,r,r)}});var t=Object(r.useMemo)(function(){return[new y.SphereBufferGeometry(.3,10,10),new y.MeshBasicMaterial({color:new y.Color("#ffddaa")}),new Array(1e3).fill().map(function(e){return[800*Math.random()-400,800*Math.random()-400,800*Math.random()-400]})]},[]),o=Object(v.a)(t,3),i=o[0],l=o[1],s=o[2];return n.a.createElement("group",{ref:e},s.map(function(e,a){var t=Object(v.a)(e,3),r=t[0],o=t[1],c=t[2];return n.a.createElement("mesh",{key:a,geometry:i,material:l,position:[r,o,c]})}))},L=function(e){var a=e.children;return n.a.createElement("div",{className:"grayscale"},a)};Object(c.d)({OrbitControls:l.a,EffectComposer:s.a,RenderPass:m.a,ShaderPass:u.a,UnrealBloomPass:f.a,FilmPass:d.a,SMAAPass:h.a});var T=function(){var e=Object(r.useRef)(null),a=function(e,a){var t;return function(){var r=arguments,n=this;t||(e.apply(n,r),t=!0,setTimeout(function(){return t=!1},a))}}(function(){e&&e.current&&e.current.rewardMe()},1500);return n.a.createElement(n.a.Fragment,null,n.a.createElement(g.a,{ref:e,type:"emoji",config:{springAnimation:!1,lifetime:160,startVelocity:66,spread:160,emoji:["\ud83c\udf1f","\u2b50\ufe0f"],containerStyle:{transform:"translate3d(50vw, 50vh, 0)"}}},n.a.createElement("span",null)),n.a.createElement(L,null,n.a.createElement(_,null),n.a.createElement(c.a,{shadowMap:!0,camera:{position:[0,0,4.5]}},n.a.createElement(C,null),n.a.createElement(r.Suspense,{fallback:null},n.a.createElement(R,null)),n.a.createElement(x,null),n.a.createElement(w,null),n.a.createElement(r.Suspense,{fallback:null},n.a.createElement(O,{layer:0,position:[0,-.45,2],scale:[.2,.2,.2],onBellyClick:a}),n.a.createElement(O,{layer:1,position:[0,-.45,2],scale:[.2,.2,.2]})),n.a.createElement(k,null))))};i.a.render(n.a.createElement(T,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.e3360349.chunk.js.map