(window["webpackJsonpreact-three-fibear"]=window["webpackJsonpreact-three-fibear"]||[]).push([[0],{41:function(e,a,t){e.exports=t(50)},46:function(e,a,t){},50:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),o=t(27),i=t.n(o),c=(t(46),t(6)),s=t(28),l=t(37),m=t(29),u=t(18),f=t(3),d=t(30),h=t(31),g=t(0),v=t(16),b=t(15),p=function(e){var a=Object(r.useRef)(),t=Object(c.g)(d.a,"/react-three-fibear/DevelobearDraco.gltf",function(e){var a=new h.a;a.setDecoderPath("/draco-gltf/"),e.setDRACOLoader(a)}),o=0;Object(c.h)(function(){if(a.current){var e=Math.sin(g.Math.degToRad(o+=.7));a.current.rotation.set(0,e,0)}});var i=Object(b.b)(function(){return{scale:[.2,.2,.2],config:{mass:3,friction:40,tension:800}}}),s=Object(f.a)(i,2),l=s[0],m=s[1],u=Object(v.a)(function(e){var a=e.hovering;return m({scale:a?[.25,.25,.25]:[.2,.2,.2]})},{pointerEvents:!0});return n.a.createElement(b.a.group,Object.assign({ref:a},e,l,u()),n.a.createElement("scene",{name:"Scene"},n.a.createElement("object3D",{name:"Spot",position:[0,0,0]}),n.a.createElement("group",{name:"Bear",position:[0,0,0],rotation:[0,0,0]},n.a.createElement("mesh",{name:"Cilindro.001_0",layers:e.layer,castShadow:!0,receiveShadow:!0},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},t.__$[4].geometry)),n.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},t.__$[4].material,{name:"brown",roughness:1}))),n.a.createElement("mesh",{name:"Cilindro.001_1",layers:e.layer,castShadow:!0,receiveShadow:!0},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},t.__$[5].geometry)),n.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},t.__$[5].material,{name:"light brown",roughness:1}))),n.a.createElement("mesh",{name:"Cilindro.001_2",layers:e.layer,castShadow:!0,receiveShadow:!0},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},t.__$[6].geometry)),n.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},t.__$[6].material,{name:"almost black",roughness:1}))),n.a.createElement("mesh",{name:"Cilindro.001_3",layers:e.layer,castShadow:!0,receiveShadow:!0},n.a.createElement("bufferGeometry",Object.assign({attach:"geometry"},t.__$[7].geometry)),n.a.createElement("meshStandardMaterial",Object.assign({attach:"material"},t.__$[7].material,{name:"almost white",roughness:1}))))))},E=function(){return n.a.createElement("group",null,n.a.createElement("ambientLight",null),n.a.createElement("pointLight",null),n.a.createElement("spotLight",{castShadow:!0,intensity:5,angle:Math.PI/16,position:[10,10,10],"shadow-mapSize-width":4056,"shadow-mapSize-height":4056}))},y={uniforms:{tDiffuse:{value:null},tAdd:{value:null}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform sampler2D tAdd;","varying vec2 vUv;","void main() {","vec4 color = texture2D( tDiffuse, vUv );","vec4 add = texture2D( tAdd, vUv );","gl_FragColor = color + add;","}"].join("\n")},j={uniforms:{tDiffuse:{value:null},lightPosition:{value:new g.Vector2(.5,.5)},exposure:{value:.18},decay:{value:.95},density:{value:1},weight:{value:.4},samples:{value:60}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["varying vec2 vUv;","uniform sampler2D tDiffuse;","uniform vec2 lightPosition;","uniform float exposure;","uniform float decay;","uniform float density;","uniform float weight;","uniform int samples;","const int MAX_SAMPLES = 100;","void main()","{","vec2 texCoord = vUv;","vec2 deltaTextCoord = texCoord - lightPosition;","deltaTextCoord *= 1.0 / float(samples) * density;","vec4 color = texture2D(tDiffuse, texCoord);","float illuminationDecay = 1.0;","for(int i=0; i < MAX_SAMPLES; i++)","{","if(i == samples){","break;","}","texCoord -= deltaTextCoord;","vec4 sample = texture2D(tDiffuse, texCoord);","sample *= illuminationDecay * weight;","color += sample;","illuminationDecay *= decay;","}","gl_FragColor = color * exposure;","}"].join("\n")},O=t(35),w=function(){var e=Object(c.i)(),a=e.gl,t=e.scene,o=e.camera,i=e.size,s=Object(r.useMemo)(function(){return new g.WebGLRenderTarget},[]),l=Object(r.useRef)(),m=Object(r.useRef)(),u=Object(r.useRef)();Object(r.useEffect)(function(){l.current.setSize(i.width,i.height),m.current.setSize(i.width,i.height)},[i]),Object(c.f)(function(){o.layers.set(1),l.current.render(),o.layers.set(0),m.current.render()},1);var d=Object(b.b)(function(){return{scale:[1,1,1],config:{mass:3,friction:40,tension:800}}}),h=Object(f.a)(d,2),p=h[0],E=h[1],w=Object(v.a)(function(e){var a=e.hovering;return E({scale:a?[1.25,1.25,1.25]:[1,1,1]})},{pointerEvents:!0});return n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a.mesh,Object.assign({ref:u,layers:1},p,w()),n.a.createElement("circleGeometry",{attach:"geometry",args:[.8,50]}),n.a.createElement("meshBasicMaterial",{attach:"material",color:"#ffddaa"})),n.a.createElement("effectComposer",{ref:l,args:[a,s],renderToScreen:!1},n.a.createElement("renderPass",{attachArray:"passes",args:[t,o]}),n.a.createElement("shaderPass",{attachArray:"passes",args:[j],needsSwap:!1})),n.a.createElement("effectComposer",{ref:m,args:[a]},n.a.createElement("renderPass",{attachArray:"passes",args:[t,o]}),n.a.createElement("shaderPass",{attachArray:"passes",args:[y],"material-uniforms-tAdd-value":s.texture}),n.a.createElement("shaderPass",{attachArray:"passes",args:[O.a],"material-uniforms-resolution-value":[1/i.width,1/i.height],renderToScreen:!0}),n.a.createElement("unrealBloomPass",{attachArray:"passes",args:[void 0,.2,.2,0]}),n.a.createElement("filmPass",{attachArray:"passes",args:[.7,.5,1e3,!1]})))},S=t(24),M=function(){var e=Object(r.useState)(!1),a=Object(f.a)(e,2),t=a[0],o=a[1],i=Object(r.useState)(0),c=Object(f.a)(i,2),s=c[0],l=c[1];return Object(r.useEffect)(function(){g.DefaultLoadingManager.onLoad=function(){return o(!0)},g.DefaultLoadingManager.onProgress=function(e,a,t){return l(a/t*200)}},[]),Object(S.b)(t,null,{from:{opacity:1,width:0},leave:{opacity:0},update:{width:s}}).map(function(e){var a=e.item,t=e.key,r=e.props,o=r.opacity,i=r.width;return!a&&n.a.createElement(S.a.div,{className:"loading",key:t,style:{opacity:o}},n.a.createElement("div",{className:"loading-bar-container"},n.a.createElement(S.a.div,{className:"loading-bar",style:{width:i}})))})},P=function(){var e=Object(c.i)().camera,a=Object(r.useRef)();return Object(c.h)(function(){return a.current.update()}),n.a.createElement("orbitControls",{args:[e],ref:a,enableZoom:!1,enableKeys:!1,minPolarAngle:Math.PI/2.5,maxPolarAngle:Math.PI/1.7,minAzimuthAngle:-Math.PI/16,maxAzimuthAngle:Math.PI/16,enableDamping:!0,dampingFactor:.07})},x=t(36),_=function(e){e.children;var a=e.size,t=void 0===a?55:a,o=Object(x.a)(e,["children","size"]),i=Object(r.useRef)(),s=Object(r.useRef)(),l=Object(c.g)(g.TextureLoader,"/react-three-fibear/logo.png"),m=.1*t,u=.04*t,d=Object(b.b)(function(){return{scale:[m,u,.1],config:{mass:3,friction:40,tension:800}}}),h=Object(f.a)(d,2),p=h[0],E=h[1],y=Object(v.a)(function(e){var a=e.hovering;return E({scale:a?[1.2*m,1.2*u,.12]:[m,u,.1]})},{pointerEvents:!0});return n.a.createElement(b.a.group,Object.assign({className:"link"},o,{scale:[.1*t,.04*t,.1]},p,y(),{onClick:function(){return window.location.href="https://thedevelobear.com"}}),n.a.createElement("mesh",{args:[i,s],position:[0,1,-20],receiveShadow:!0,castShadow:!0},n.a.createElement("planeGeometry",{ref:i,attach:"geometry"}),n.a.createElement("meshPhongMaterial",{transparent:!0,ref:s,attach:"material",map:l})))},A=function(){var e=Object(r.useRef)(),a=0;Object(c.h)(function(){if(e.current){var t=5*Math.sin(g.Math.degToRad(a+=.002)),r=Math.cos(g.Math.degToRad(2*a));e.current.rotation.set(t,t,t),e.current.scale.set(r,r,r)}});var t=Object(r.useMemo)(function(){return[new g.SphereBufferGeometry(.3,10,10),new g.MeshBasicMaterial({color:new g.Color("#ffddaa")}),new Array(1e3).fill().map(function(e){return[800*Math.random()-400,800*Math.random()-400,800*Math.random()-400]})]},[]),o=Object(f.a)(t,3),i=o[0],s=o[1],l=o[2];return n.a.createElement("group",{ref:e},l.map(function(e,a){var t=Object(f.a)(e,3),r=t[0],o=t[1],c=t[2];return n.a.createElement("mesh",{key:a,geometry:i,material:s,position:[r,o,c]})}))},D=t(38),C=t(39),R=t(40),k=function(e){var a=e.children;return n.a.createElement("div",{className:"grayscale"},a)};Object(c.d)({OrbitControls:s.a,EffectComposer:l.a,RenderPass:m.a,ShaderPass:u.a,UnrealBloomPass:D.a,FilmPass:C.a,SMAAPass:R.a});var L=function(){return n.a.createElement(k,null,n.a.createElement(M,null),n.a.createElement(c.a,{shadowMap:!0,camera:{position:[0,0,4.5]}},n.a.createElement(P,null),n.a.createElement(r.Suspense,{fallback:null},n.a.createElement(_,null)),n.a.createElement(w,null),n.a.createElement(E,null),n.a.createElement(r.Suspense,{fallback:null},n.a.createElement(p,{layer:0,position:[0,-.45,2],scale:[.2,.2,.2]}),n.a.createElement(p,{layer:1,position:[0,-.45,2],scale:[.2,.2,.2]})),n.a.createElement(A,null)))};i.a.render(n.a.createElement(L,null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.99524908.chunk.js.map